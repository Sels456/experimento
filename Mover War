local cityTravelUI = setupUI([[
Panel
  height: 19

  Button
    id: editPlayerList
    anchors.top: parent.top
    anchors.left: parent.left
    anchors.right: parent.right
    margin-left: 1
    height: 18
    text: Caves 1
]], parent)

g_ui.loadUIFromString([[
CityTravelWindow < MainWindow
  text: Ciudades
  size: 150 330
  
  Button
    id: warscityButton
    text: War City
    anchors.top: parent.top
    anchors.left: parent.left
    anchors.right: parent.right
    margin-top: 3
    margin-left: 3
    margin-right: 3
    height: 20
    font: verdana-11px-rounded
  
  Button
    id: gelandiaButton
    text: Genlandia
    anchors.top: prev.bottom
    anchors.left: parent.left
    anchors.right: parent.right
    margin-top: 3
    margin-left: 3
    margin-right: 3
    height: 20
    font: verdana-11px-rounded

  Button
    id: eldflorestButton
    text: Eld Florest
    anchors.top: prev.bottom
    anchors.left: parent.left
    anchors.right: parent.right
    margin-top: 3
    margin-left: 3
    margin-right: 3
    height: 20
    font: verdana-11px-rounded

  Button
    id: morgunButton
    text: Morgun
    anchors.top: prev.bottom
    anchors.left: parent.left
    anchors.right: parent.right
    margin-top: 3
    margin-left: 3
    margin-right: 3
    height: 20
    font: verdana-11px-rounded

  Button
    id: zenetcityButton
    text: Zenet
    anchors.top: prev.bottom
    anchors.left: parent.left
    anchors.right: parent.right
    margin-top: 3
    margin-left: 3
    margin-right: 3
    height: 20
    font: verdana-11px-rounded

  Button
    id: naircityButton
    text: Nair
    anchors.top: prev.bottom
    anchors.left: parent.left
    anchors.right: parent.right
    margin-top: 3
    margin-left: 3
    margin-right: 3
    height: 20
    font: verdana-11px-rounded

  Button
    id: egipsecityButton
    text: Egipse
    anchors.top: prev.bottom
    anchors.left: parent.left
    anchors.right: parent.right
    margin-top: 3
    margin-left: 3
    margin-right: 3
    height: 20
    font: verdana-11px-rounded

  Button
    id: narutzcityButton
    text: Narutz
    anchors.top: prev.bottom
    anchors.left: parent.left
    anchors.right: parent.right
    margin-top: 3
    margin-left: 3
    margin-right: 3
    height: 20
    font: verdana-11px-rounded

  Button
    id: hashiramacityButton
    text: Hasirama
    anchors.top: prev.bottom
    anchors.left: parent.left
    anchors.right: parent.right
    margin-top: 3
    margin-left: 3
    margin-right: 3
    height: 20
    font: verdana-11px-rounded

  Button
    id: cantasiaButton
    text: Cantasia
    anchors.top: prev.bottom
    anchors.left: parent.left
    anchors.right: parent.right
    margin-top: 3
    margin-left: 3
    margin-right: 3
    height: 20
    font: verdana-11px-rounded

  HorizontalSeparator
    id: separator
    anchors.right: parent.right
    anchors.left: parent.left
    anchors.top: prev.bottom
    margin-top: 6
    margin-bottom: 6

  Button
    id: closeButton
    text: Close
    font: cipsoftFont
    anchors.right: parent.right
    anchors.bottom: parent.bottom
    size: 45 21
]])

local panelName = "cityTravel"
if not storage[panelName] then
  storage[panelName] = {
    enabled = false,
  }
end

local config = storage[panelName]

rootWidget = g_ui.getRootWidget()
if rootWidget then
  local cityTravelWindow = UI.createWindow('CityTravelWindow', rootWidget)
  cityTravelWindow:hide()

  cityTravelUI.editPlayerList.onClick = function(widget)
    cityTravelWindow:show()
    cityTravelWindow:raise()
    cityTravelWindow:focus()
  end

  cityTravelWindow.closeButton.onClick = function(widget)
    cityTravelWindow:hide()
  end
  
  local cityButtons = {
    {id = 'warscityButton', city = 'wars city'},
    {id = 'gelandiaButton', city = 'gelandia'},
    {id = 'eldflorestButton', city = 'eld florest'},
    {id = 'morgunButton', city = 'Morgun'},
    {id = 'zenetcityButton', city = 'zenet city'},
    {id = 'naircityButton', city = 'nair city'},
    {id = 'egipsecityButton', city = 'egipse city'},
    {id = 'narutzcityButton', city = 'narutz city'},
   {id = 'hashiramacityButton', city = 'hashirama city'},
   {id = 'cantasiaButton', city = 'cantasia'},
  }

  for _, buttonInfo in ipairs(cityButtons) do
    local button = cityTravelWindow:recursiveGetChildById(buttonInfo.id)
    button.onClick = function()
      NPC.say("hi")
      schedule(2000, function() NPC.say(buttonInfo.city) end)
      schedule(3000, function() NPC.say("yes") end)
      schedule(4000, function() NPC.say("yes") end)
    end
  end
end

local cityTravelUI = setupUI([[
Panel
  height: 19

  Button
    id: editPlayerList
    anchors.top: parent.top
    anchors.left: parent.left
    anchors.right: parent.right
    margin-left: 1
    height: 18
    text: Caves 2
]], parent)

g_ui.loadUIFromString([[
CityTravelWindow < MainWindow
  text: Ciudades
  size: 150 330
  

  Button
    id: goublecityButton
    text: Gouble
    anchors.top: parent.top
    anchors.left: parent.left
    anchors.right: parent.right
    margin-top: 3
    margin-left: 3
    margin-right: 3
    height: 20
    font: verdana-11px-rounded
  
  Button
    id: templeButton
    text: Temple of Haley
    anchors.top: prev.bottom
    anchors.left: parent.left
    anchors.right: parent.right
    margin-top: 3
    margin-left: 3
    margin-right: 3
    height: 20
    font: verdana-11px-rounded

  Button
    id: decrayButton
    text: Decray
    anchors.top: prev.bottom
    anchors.left: parent.left
    anchors.right: parent.right
    margin-top: 3
    margin-left: 3
    margin-right: 3
    height: 20
    font: verdana-11px-rounded

  Button
    id: colinasButton
    text: colinas
    anchors.top: prev.bottom
    anchors.left: parent.left
    anchors.right: parent.right
    margin-top: 3
    margin-left: 3
    margin-right: 3
    height: 20
    font: verdana-11px-rounded

  Button
    id: arenaButton
    text: Arena Quest
    anchors.top: prev.bottom
    anchors.left: parent.left
    anchors.right: parent.right
    margin-top: 3
    margin-left: 3
    margin-right: 3
    height: 20
    font: verdana-11px-rounded

  Button
    id: freeButton
    text: free zone
    anchors.top: prev.bottom
    anchors.left: parent.left
    anchors.right: parent.right
    margin-top: 3
    margin-left: 3
    margin-right: 3
    height: 20
    font: verdana-11px-rounded

  Button
    id: amunButton
    text: AmunRa 
    anchors.top: prev.bottom
    anchors.left: parent.left
    anchors.right: parent.right
    margin-top: 3
    margin-left: 3
    margin-right: 3
    height: 20
    font: verdana-11px-rounded

  Button
    id: sagradeButton
    text: Sagrade Island
    anchors.top: prev.bottom
    anchors.left: parent.left
    anchors.right: parent.right
    margin-top: 3
    margin-left: 3
    margin-right: 3
    height: 20
    font: verdana-11px-rounded

  Button
    id: ferockButton
    text: Ferock
    anchors.top: prev.bottom
    anchors.left: parent.left
    anchors.right: parent.right
    margin-top: 3
    margin-left: 3
    margin-right: 3
    height: 20
    font: verdana-11px-rounded

  Button
    id: zanburButton
    text: Zanbur
    anchors.top: prev.bottom
    anchors.left: parent.left
    anchors.right: parent.right
    margin-top: 3
    margin-left: 3
    margin-right: 3
    height: 20
    font: verdana-11px-rounded

  HorizontalSeparator
    id: separator
    anchors.right: parent.right
    anchors.left: parent.left
    anchors.top: prev.bottom
    margin-top: 6
    margin-bottom: 6

  Button
    id: closeButton
    text: Close
    font: cipsoftFont
    anchors.right: parent.right
    anchors.bottom: parent.bottom
    size: 45 21
]])

local panelName = "cityTravel"
if not storage[panelName] then
  storage[panelName] = {
    enabled = false,
  }
end

local config = storage[panelName]

rootWidget = g_ui.getRootWidget()
if rootWidget then
  local cityTravelWindow = UI.createWindow('CityTravelWindow', rootWidget)
  cityTravelWindow:hide()

  cityTravelUI.editPlayerList.onClick = function(widget)
    cityTravelWindow:show()
    cityTravelWindow:raise()
    cityTravelWindow:focus()
  end

  cityTravelWindow.closeButton.onClick = function(widget)
    cityTravelWindow:hide()
  end
  
  local cityButtons = {
    {id = 'goublecityButton', city = 'gouble city'},
    {id = 'templeButton', city = 'temple of haley'},
    {id = 'decrayButton', city = 'decray city'},
    {id = 'colinasButton', city = 'colinas'},
    {id = 'arenaButton', city = 'arena quest'},
    {id = 'freeButton', city = 'free zone'},
    {id = 'amunButton', city = 'amun ra city'},
    {id = 'sagradeButton', city = 'sagrade island'},
    {id = 'ferockButton', city = 'ferock'},
    {id = 'zanburButton', city = 'zanbur'},
  }

  for _, buttonInfo in ipairs(cityButtons) do
    local button = cityTravelWindow:recursiveGetChildById(buttonInfo.id)
    button.onClick = function()
      NPC.say("hi")
      schedule(2000, function() NPC.say(buttonInfo.city) end)
      schedule(3000, function() NPC.say("yes") end)
      schedule(4000, function() NPC.say("yes") end)
    end
  end
end

local cityTravelUI = setupUI([[
Panel
  height: 19

  Button
    id: editPlayerList
    anchors.top: parent.top
    anchors.left: parent.left
    anchors.right: parent.right
    margin-left: 1
    height: 18
    text: Caves 3
]], parent)

g_ui.loadUIFromString([[
CityTravelWindow < MainWindow
  text: Ciudades
  size: 150 330
  

  Button
    id: alaButton
    text: Ala in Hell
    anchors.top: parent.top
    anchors.left: parent.left
    anchors.right: parent.right
    margin-top: 3
    margin-left: 3
    margin-right: 3
    height: 20
    font: verdana-11px-rounded
  
  Button
    id: magnusButton
    text: Magnus Linear
    anchors.top: prev.bottom
    anchors.left: parent.left
    anchors.right: parent.right
    margin-top: 3
    margin-left: 3
    margin-right: 3
    height: 20
    font: verdana-11px-rounded

  Button
    id: sagitariaButton
    text: Sagitaria
    anchors.top: prev.bottom
    anchors.left: parent.left
    anchors.right: parent.right
    margin-top: 3
    margin-left: 3
    margin-right: 3
    height: 20
    font: verdana-11px-rounded

  Button
    id: pacificButton
    text: :.:Pacific:.:
    anchors.top: prev.bottom
    anchors.left: parent.left
    anchors.right: parent.right
    margin-top: 3
    margin-left: 3
    margin-right: 3
    height: 20
    font: verdana-11px-rounded

  Button
    id: tiberiadesButton
    text: :.:Tiberiades:.:
    anchors.top: prev.bottom
    anchors.left: parent.left
    anchors.right: parent.right
    margin-top: 3
    margin-left: 3
    margin-right: 3
    height: 20
    font: verdana-11px-rounded

  Button
    id: kazoordumButton
    text: :.:Kazoordum:.:
    anchors.top: prev.bottom
    anchors.left: parent.left
    anchors.right: parent.right
    margin-top: 3
    margin-left: 3
    margin-right: 3
    height: 20
    font: verdana-11px-rounded

  HorizontalSeparator
    id: separator
    anchors.right: parent.right
    anchors.left: parent.left
    anchors.top: prev.bottom
    margin-top: 6
    margin-bottom: 6

  Button
    id: closeButton
    text: Close
    font: cipsoftFont
    anchors.right: parent.right
    anchors.bottom: parent.bottom
    size: 45 21
]])

local panelName = "cityTravel"
if not storage[panelName] then
  storage[panelName] = {
    enabled = false,
  }
end

local config = storage[panelName]

rootWidget = g_ui.getRootWidget()
if rootWidget then
  local cityTravelWindow = UI.createWindow('CityTravelWindow', rootWidget)
  cityTravelWindow:hide()

  cityTravelUI.editPlayerList.onClick = function(widget)
    cityTravelWindow:show()
    cityTravelWindow:raise()
    cityTravelWindow:focus()
  end

  cityTravelWindow.closeButton.onClick = function(widget)
    cityTravelWindow:hide()
  end
  
  local cityButtons = {
    {id = 'alaButton', city = 'ala in hell'},
    {id = 'magnusButton', city = 'magnus linear'},
    {id = 'sagitariaButton', city = 'sagitaria'},
    {id = 'pacificButton', city = 'pacific city'},
    {id = 'tiberiadesButton', city = 'tiberiades'},
    {id = 'kazoordumButton', city = 'kazoordum'},
  }

  for _, buttonInfo in ipairs(cityButtons) do
    local button = cityTravelWindow:recursiveGetChildById(buttonInfo.id)
    button.onClick = function()
      NPC.say("hi")
      schedule(2000, function() NPC.say(buttonInfo.city) end)
      schedule(3000, function() NPC.say("yes") end)
      schedule(4000, function() NPC.say("yes") end)
    end
  end
end
